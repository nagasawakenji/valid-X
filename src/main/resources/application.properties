spring.application.name=valid-X
spring.config.import=optional:file:.env[.properties]

# ???????.env?????
# JSON??
spring.jackson.property-naming-strategy=SNAKE_CASE
spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS=false
spring.jackson.time-zone=UTC

# MyBatis??
mybatis.configuration.map-underscore-to-camel-case=true
mybatis.mapper-locations=classpath*:/mapper/**/*.xml
mybatis.type-handlers-package=Nagasawa.valid_X.infra.mybatis.typehandler

# Tomcat??????
server.tomcat.accesslog.enabled=true
server.tomcat.accesslog.pattern=%t %a "%r" %s %D

# Actuator?????
management.endpoints.web.exposure.include=health,info,prometheus,metrics
management.endpoint.health.probes.enabled=true
management.endpoint.health.show-details=when_authorized
management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.distribution.sla.http.server.requests=50ms,100ms,200ms,300ms,500ms,1s

# ????????
server.servlet.session.timeout=0

# JWT
app.jwt.issuer=https://valid-x.example
app.jwt.access-ttl=PT15M
app.jwt.refresh-ttl=PT30D
app.jwt.hmac-secret=${APP_JWT_SECRET}

# Magic Link / Frontend
app.magic.frontend-base-url=https://app.example.com
app.frontend.base-url=https://localhost:8443
app.magic-link.ttl-minutes=10

# Cookie??
app.cookies.refresh.name=refresh_token
app.cookies.refresh.path=/v1/auth

# CORS??
app.cors.allowed-origins=https://app.example.com

# HMAC?
app.hmac.active=1
app.hmac.k1=${APP_HMAC_K1}

# ???????
app.storage.base-path=${APP_STORAGE_PATH}
app.storage.public-base-url=${APP_PUBLIC_URL}

# ?????
spring.mail.host=${MAIL_HOST}
spring.mail.port=${MAIL_PORT}
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true