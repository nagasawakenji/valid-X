spring.application.name=valid-X

# ??? JSON ??
spring.jackson.property-naming-strategy=SNAKE_CASE
spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS=false
spring.jackson.time-zone=UTC

# MyBatis???????????????????
mybatis.configuration.map-underscore-to-camel-case=true
# ????XML??????????????
mybatis.mapper-locations=classpath*:/mapper/**/*.xml

# src/main/resources/application.yml
mybatis.type-handlers-package=Nagasawa.valid_X.infra.mybatis.typehandler

# Postgre??
spring.datasource.url=jdbc:postgresql://localhost:5432/validx
spring.datasource.username=validxadmin
spring.datasource.password=postgre
spring.datasource.driver-class-name=org.postgresql.Driver

# Tomcat??????????????
server.tomcat.accesslog.enabled=true
server.tomcat.basedir=.
server.tomcat.accesslog.pattern=%t %a "%r" %s %D

# Actuator??????/????
management.endpoints.web.exposure.include=health,info,prometheus,metrics
management.endpoint.health.probes.enabled=true
management.endpoint.health.show-details=when_authorized
management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.distribution.sla.http.server.requests=50ms,100ms,200ms,300ms,500ms,1s

# ???????API????????????????
server.servlet.session.timeout=0

# ===== ???????????SecurityConfig????????? =====
# JWT?????TTL?
app.jwt.issuer=https://valid-x.example
app.jwt.access-ttl=PT15M
app.jwt.refresh-ttl=PT30D

# JWT HS256 ?????????????/Secret??
app.jwt.hmac-secret=CHANGE_ME_MIN_32_BYTES_LONG_SECRET

# ???????????URL??????????????URL?
app.magic.frontend-base-url=https://app.example.com

# Refresh Cookie ????Login/Refresh????
app.cookies.refresh.name=refresh_token
app.cookies.refresh.path=/v1/auth
# Domain ???????????.example.com???????????????OK
# app.cookies.refresh.domain=.example.com

# CORS ????????SecurityConfig??????????
app.cors.allowed-origins=https://app.example.com

# ?????
spring.mail.host=smtp.example.com
spring.mail.port=587
spring.mail.username=your-username
spring.mail.password=your-password
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# HmacKeyProvider???
app.hmac.active=1
app.hmac.k1=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# ????????
app.frontend.base-url=https://app.example.com
app.magic-link.ttl-minutes=10

